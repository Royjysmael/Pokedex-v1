const pokemonRepository=function(){const e=[];function t(t){e.push(t)}function n(e){return e.charAt(0).toUpperCase()+e.slice(1)}function o(e){return i(),fetch(e.detailsUrl).then((e=>e.json())).then((t=>{a(),e.imageUrl=t.sprites.front_default||"img/fallback.png",e.height=t.height,e.weight=t.weight,e.types=(t.types||[]).map((e=>e.type.name))})).catch((e=>{a(),console.error("Error loading Pokémon details:",e)}))}function i(){const e=document.createElement("p");e.innerText="Loading Pokémon...",e.classList.add("loading-message"),document.body.appendChild(e)}function a(){const e=document.querySelector(".loading-message");e&&e.remove()}return{add:t,getAll:function(){return e},addListItem:function(e){const t=document.querySelector(".pokemon-list"),i=document.createElement("div");i.classList.add("col-12","col-sm-6","col-md-4","col-lg-3");const a=document.createElement("div");a.classList.add("card","h-100","shadow-sm","text-center"),a.setAttribute("role","button"),a.setAttribute("tabindex","0");const c=document.createElement("img");c.src=e.imageUrl||"img/fallback.png",c.alt=`${e.name} image`,c.classList.add("card-img-top","img-fluid"),c.style.maxHeight="150px";const d=document.createElement("div");d.classList.add("card-body");const r=document.createElement("h5");r.classList.add("card-title"),r.innerText=n(e.name),d.appendChild(r),a.appendChild(c),a.appendChild(d),i.appendChild(a),t.appendChild(i),a.addEventListener("click",(function(){!function(e){o(e).then((function(){!function(e){const t=document.querySelector("#pokemonModalLabel"),o=document.querySelector(".modal-height"),i=document.querySelector(".modal-weight"),a=document.querySelector(".modal-types"),c=document.querySelector(".modal-image");t.innerText=n(e.name),o.innerText=`Height: ${e.height}`,i.innerText=`Weight: ${e.weight}`,c.src=e.imageUrl,c.alt=e.name,a.innerHTML="",e.types.forEach((e=>{const t=document.createElement("span");t.innerText=n(e),t.classList.add("type-badge",`type-${e.toLowerCase()}`),a.appendChild(t)}))}(e);const t=document.getElementById("pokemonModal");new bootstrap.Modal(t).show()}))}(e)}))},loadList:function(){return i(),fetch("https://pokeapi.co/api/v2/pokemon/?limit=151").then((e=>e.json())).then((e=>{a(),e.results.forEach((e=>{t({name:e.name,detailsUrl:e.url})}))})).catch((e=>{a(),console.error("Error loading Pokémon list:",e)}))},loadDetails:o}}();function renderPokemonList(e=pokemonRepository.getAll()){document.querySelector(".pokemon-list").innerHTML="",e.forEach((e=>{pokemonRepository.loadDetails(e).then((()=>{pokemonRepository.addListItem(e)}))}))}pokemonRepository.loadList().then((function(){renderPokemonList()}));